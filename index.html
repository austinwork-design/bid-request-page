<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- kept exactly as provided -->
  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Request A Roofing Bid</title>

  <style>
    :root{
      --tc-blue:#0d5ea6;
      --tc-orange:#ff5a1f;
      --page:#f3f4f6;          /* light gray like screenshot */
      --ink:#111827;           /* near-black */
      --muted:#6b7280;         /* gray labels */
      --card:#ffffff;
      --border:#e5e7eb;
      --focus:#93c5fd;
      --r:6px;
      --shadow: 0 1px 0 rgba(0,0,0,.03);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color: var(--ink);
      background: #fff; /* header area stays white */
    }

    /* ====== Top Nav (white bar) ====== */
    .navwrap{
      background:#fff;
      border-bottom:1px solid var(--border);
    }

    .navbar{
      max-width: 1240px;
      margin:0 auto;
      padding: 14px 18px;
      display:flex;
      align-items:center;
      gap: 18px;
    }

    .logo{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      flex: 0 0 auto;
    }

    .logo img{
      height: 34px;
      width:auto;
      display:block;
    }

    .navbar nav{
      display:flex;
      align-items:center;
      gap: 18px;
      flex: 1 1 auto;
      min-width: 0;
      overflow:auto;
      scrollbar-width: none; /* firefox */
    }
    .navbar nav::-webkit-scrollbar{ display:none; }

    .navbar nav a{
      color:#111827;
      text-decoration:none;
      font-size: 13px;
      font-weight:600;
      white-space: nowrap;
      opacity:.92;
    }
    .navbar nav a:hover{ opacity:1; text-decoration:underline; }

    .cta{
      flex: 0 0 auto;
      background: var(--tc-orange);
      color:#fff;
      text-decoration:none;
      font-weight:800;
      font-size: 13px;
      padding: 10px 14px;
      border-radius: 4px;
      box-shadow: var(--shadow);
    }
    .cta:hover{ filter:brightness(1.03); }

    /* ====== Page section (light gray band like screenshot) ====== */
    .page{
      background: var(--page);
      padding: 54px 18px 70px;
    }

    .container{
      max-width: 1240px;
      margin:0 auto;
    }

    .title{
      font-size: 46px;
      line-height: 1.05;
      margin: 0 0 14px;
      font-weight: 900;
      letter-spacing: -.02em;
    }

    .subtitle{
      font-size: 26px;
      margin: 0 0 18px;
      font-weight: 800;
      color: #111827;
    }

    .lede{
      margin: 0 0 22px;
      max-width: 820px;
      font-size: 16px;
      line-height: 1.5;
      font-weight: 600;
      color: #111827;
      opacity:.9;
    }

    .call-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-width: 240px;
      height: 48px;
      background: var(--tc-blue);
      color:#fff;
      text-decoration:none;
      font-weight: 900;
      border-radius: 4px;
      box-shadow: var(--shadow);
      margin: 10px 0 26px;
    }
    .call-btn:hover{ filter:brightness(1.04); }

    /* ====== Two-column content area ====== */
    .content{
      display:grid;
      grid-template-columns: 1fr; /* map omitted, so single column */
      gap: 28px;
      align-items:start;
      margin-top: 8px;
    }

    /* ====== Form styling (light inputs like screenshot) ====== */
    .form-wrap{
      max-width: 760px; /* keeps it similar to left column width */
    }

    .field{
      margin-bottom: 14px;
    }

    label{
      display:block;
      font-size: 12px;
      font-weight: 800;
      color: #374151;
      margin: 0 0 6px;
    }

    .req{
      font-weight: 800;
      color: #6b7280;
      margin-left: 4px;
      font-size: 11px;
    }

    input, select, textarea{
      width:100%;
      border-radius: 2px; /* screenshot looks fairly square */
      border: 1px solid #cfd6df;
      background: #fff;
      color: var(--ink);
      padding: 10px 10px;
      font-size: 14px;
      outline:none;
      box-shadow: inset 0 1px 0 rgba(0,0,0,.03);
    }

    input:focus, select:focus, textarea:focus{
      border-color: var(--focus);
      box-shadow: 0 0 0 3px rgba(147,197,253,.35);
    }

    textarea{
      min-height: 110px;
      resize: vertical;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    .full{ grid-column: 1 / -1; }

    .actions{
      margin-top: 18px;
    }

    .submit{
      width: 100%;
      max-width: 240px;
      height: 44px;
      border: none;
      border-radius: 4px;
      background: #111827;
      color:#fff;
      font-weight: 900;
      cursor:pointer;
      box-shadow: var(--shadow);
    }
    .submit:hover{ filter:brightness(1.06); }

    /* Responsive */
    @media (max-width: 820px){
      .title{ font-size: 36px; }
      .subtitle{ font-size: 22px; }
      .grid-2{ grid-template-columns: 1fr; }
      .navbar nav{ display:none; } /* similar “clean” mobile header */
    }
  </style>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>
  <!-- Top navigation -->
  <div class="navwrap">
    <div class="navbar">
      <a class="logo" href="#">
        <img src="TEAMCRAFT_LOGO_URL" alt="TeamCraft Roofing">
      </a>

      <nav>
        <a href="#">About Us</a>
        <a href="#">Roofing Systems</a>
        <a href="#">Service Locations</a>
        <a href="#">Services</a>
        <a href="#">Employment</a>
        <a href="#">Contact Us</a>
        <a href="#">Blog Articles</a>
        <a href="#">Customer Login</a>
      </nav>

      <a class="cta" href="#">Report a Roof Leak</a>
    </div>
  </div>

  <!-- Light gray banner + page content -->
  <section class="page">
    <div class="container">
      <h1 class="title">Request A Roofing Bid</h1>
      <div class="subtitle">Our mission is simple - we shelter you.</div>
      <p class="lede">
        For a new bid on your re-roofing or new construction project, please complete the form below, or give us a call.
      </p>

      <a class="call-btn" href="tel:8887663001">(888) 766-3001</a>

      <div class="content">
        <div class="form-wrap">
          <!-- ===== YOUR ORIGINAL SALESFORCE FORM (same action + fields) ===== -->
          <form action="https://test.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00DO800000EX3IP" method="POST">
           
            <input type="hidden" name="oid" value="00DO800000EX3IP">
            <input type="hidden" name="retURL" value="http://tcrfg.com">
            <input type="hidden" name="lead_source" value="Website">
            <input type="hidden" id="ip_location_info" name="00NO800000Uz2rd" value="">
           

            <div class="field">
              <label>Name <span class="req">(required)</span></label>
              <div class="grid-2">
                <div>
                  <label for="first_name" style="margin-top:0;color:var(--muted);font-weight:700;">First Name</label>
                  <input id="first_name" maxlength="40" name="first_name" type="text" />
                </div>
                <div>
                  <label for="last_name" style="margin-top:0;color:var(--muted);font-weight:700;">Last Name</label>
                  <input id="last_name" maxlength="80" name="last_name" type="text" />
                </div>
              </div>
            </div>

            <div class="field">
              <label for="company">Company</label>
              <input id="company" maxlength="40" name="company" type="text" />
            </div>

            <div class="field">
              <label for="phone">Phone Number <span class="req">(required)</span></label>
              <!-- Salesforce standard phone field name is typically "phone" -->
              <input id="phone" maxlength="40" name="phone" type="text" />
            </div>

            <div class="field">
              <label for="email">Email <span class="req">(required)</span></label>
              <input id="email" maxlength="80" name="email" type="text" />
            </div>

            <div class="field">
              <label>Building Location and Details <span class="req">(required)</span></label>
              <div class="grid-2">
                <div>
                  <label for="city" style="margin-top:0;color:var(--muted);font-weight:700;">City</label>
                  <input id="city" maxlength="40" name="city" type="text" />
                </div>
                <div>
                  <label for="state" style="margin-top:0;color:var(--muted);font-weight:700;">State/Province</label>
                  <input id="state" maxlength="20" name="state" type="text" />
                </div>
              </div>
            </div>

            <div class="field">
              <label for="00NUi00000DwRtN">Squares</label>
              <input id="00NUi00000DwRtN" name="00NUi00000DwRtN" type="text" />
            </div>

            <div class="field">
              <label for="00NUi00000DwRtM">Roof Type</label>
              <select id="00NUi00000DwRtM" name="00NUi00000DwRtM" title="Roof Type">
                <option value="">Select an option</option>
                <option value="Unspecified">Unspecified</option>
                <option value="Single Ply">Single Ply</option>
                <option value="Cold Process">Cold Process</option>
                <option value="Metal Roofing">Metal Roofing</option>
                <option value="Hybrid">Hybrid</option>
              </select>
            </div>

            <div class="field">
              <label for="00NUi00000DwRtI">Pre-Bid Required</label>
              <select id="00NUi00000DwRtI" name="00NUi00000DwRtI" title="Pre-Bid Required">
                <option value="">Select an option</option>
                <option value="N/A">N/A</option>
                <option value="Optional">Optional</option>
                <option value="Mandatory">Mandatory</option>
              </select>
            </div>

            <div class="field">
              <label for="description">Description</label>
              <textarea id="description" name="description"></textarea>
            </div>
            <div class="captcha-wrap">
              <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"></div>
            </div>
            <div class="actions">
              <button class="submit" type="submit" name="submit">Submit</button>
            </div>
          </form>
          <!-- ===== END SALESFORCE FORM ===== -->
        </div>
      </div>
    </div>
  </section>
  <script>
  const IPINFO_TOKEN = "328febfcc92fd0";
  const IPINFO_URL = `https://ipinfo.io/json?token=${encodeURIComponent(IPINFO_TOKEN)}`;

  const form = document.querySelector('form[action*="WebToLead"]');
  const ipField = document.getElementById("ip_location_info");

  if (form && ipField) {
    form.addEventListener("submit", async (e) => {
      
      if (!window.grecaptcha || !grecaptcha.getResponse()) {
        e.preventDefault();
        alert("Please complete the CAPTCHA before submitting.");
        return;
      }
      // if already set, allow normal submit
      if (ipField.value) return;

      e.preventDefault();

      try {
        const controller = new AbortController();
        const t = setTimeout(() => controller.abort(), 1500);

        const res = await fetch(IPINFO_URL, { signal: controller.signal });
        clearTimeout(t);

        if (res.ok) {
          const data = await res.json();

          // Keep it compact
          ipField.value = JSON.stringify({
            ip: data.ip,
            city: data.city,
            region: data.region,
            country: data.country,
            postal: data.postal,
            loc: data.loc
          });
        }
      } catch (err) {
        // don't block submission if IPinfo fails
      }

      form.submit();
    });
  }
</script>


</body>
</html>
